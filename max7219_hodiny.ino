#include <Sprite.h>
#include <binary.h>
#include <Matrix.h>

#include <stdio.h>
#include <string.h>


// Pocet displayov na 1 pasik (serivovo zapojeny).
#define pocetDisplayov 4

#define dataIn 3
#define clock 4
#define cs 5

#define dataIn2 A0
#define clock2 A1
#define cs2 A2

#define tlacidloZacat 10
#define tlacidloPlus 9
#define tlacidloMinus 8
#define tlacidloHotovo 7


Matrix led = Matrix(dataIn, clock, cs, pocetDisplayov);
Matrix led2 = Matrix(dataIn2, clock2, cs2, pocetDisplayov);

Sprite plny = Sprite(8, 8, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF);
Sprite prazdny = Sprite(8, 8, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0);

Sprite a[2] = {
  Sprite(8, 8, B00110011, B00110011, B00110011, B00110011, B00110011, B00110011, B00111111, B00111111),
  Sprite(8, 8, B00110011, B00110011, B00110011, B00110011, B00110011, B00110011, B00111111, B00111111)
};

Sprite cifra0[2] = {
  Sprite(8, 8, B00110011, B00110011, B00110011, B00110011, B00110011, B00110011, B00111111, B00111111),
  Sprite(8, 8, B00111111, B00111111, B00110011, B00110011, B00110011, B00110011, B00110011, B00110011)
};
Sprite cifra1[2] = {
  Sprite(8, 8, B00011000, B00011000, B00011000, B00011000, B00011000, B00011000, B00011000, B00011000),
  Sprite(8, 8, B00011000, B00011000, B00011000, B00011000, B00011000, B00011000, B00011000, B00011000)
};
Sprite cifra2[2] = {
  Sprite(8, 8, B00111111, B00110000, B00110000, B00110000, B00110000, B00110000, B00111111, B00111111),
  Sprite(8, 8, B00111111, B00111111, B00000011, B00000011, B00000011, B00000011, B00000011, B00111111)
};
Sprite cifra3[2] = {
  Sprite(8, 8, B00111111, B00110000, B00110000, B00110000, B00110000, B00110000, B00111111, B00111111),
  Sprite(8, 8, B00111111, B00111111, B00110000, B00110000, B00110000, B00110000, B00110000, B00111111)
};
Sprite cifra4[2] = {
  Sprite(8, 8, B00111111, B00011011, B00000011, B00000011, B00000011, B00000011, B00000011, B00000011),
  Sprite(8, 8, B00011000, B00011000, B00011000, B00011000, B00011000, B00011000, B00011000, B00111111)
};
Sprite cifra5[2] = {
  Sprite(8, 8, B1),
  Sprite(8, 8, B1)
};
Sprite cifra6[2] = {
  Sprite(8, 8, B1),
  Sprite(8, 8, B1)
};
Sprite cifra7[2] = {
  Sprite(8, 8, B1),
  Sprite(8, 8, B1)
};
Sprite cifra8[2] = {
  Sprite(8, 8, B1),
  Sprite(8, 8, B1)
};
Sprite cifra9[2] = {
  Sprite(8, 8, B1),
  Sprite(8, 8, B1)
};

Sprite startAnimacia[7] = {
  Sprite(8, 8, B00000000, B00000000, B00000000, B00001100, B00001100, B00000000, B00000000, B00000000),
  Sprite(8, 8, B00000000, B00000000, B00000000, B00011110, B00011110, B00000000, B00000000, B00000000),
  Sprite(8, 8, B00000000, B00000000, B00000000, B00111111, B00111111, B00000000, B00000000, B00000000),
  Sprite(8, 8, B00000000, B00000000, B00000000, B11111111, B11111111, B00000000, B00000000, B00000000),
  Sprite(8, 8, B00000000, B00000000, B11111111, B11111111, B11111111, B11111111, B00000000, B00000000),
  Sprite(8, 8, B00000000, B11111111, B11111111, B11111111, B11111111, B11111111, B11111111, B00000000),
  Sprite(8, 8, B11111111, B11111111, B11111111, B11111111, B11111111, B11111111, B11111111, B11111111),
};
Sprite loadingAnimacia[22] = {
  Sprite(8, 8, B00000000, B00000000, B00000000, B00000000, B00000000, B00000011, B00000011, B00000000),
  Sprite(8, 8, B00000000, B00000000, B00000000, B00000000, B00000000, B00000111, B00000111, B00000000), 
  Sprite(8, 8, B00000000, B00000000, B00000000, B00000000, B00000000, B00001111, B00001111, B00000000), 
  Sprite(8, 8, B00000000, B00000000, B00000000, B00000000, B00000000, B00011111, B00011111, B00000000), 
  Sprite(8, 8, B00000000, B00000000, B00000000, B00000000, B00000000, B00111111, B00111111, B00000000), 
  Sprite(8, 8, B00000000, B00000000, B00000000, B00000000, B00110000, B00111110, B00111110, B00000000), 
  Sprite(8, 8, B00000000, B00000000, B00000000, B00110000, B00110000, B00111100, B00111100, B00000000), 
  Sprite(8, 8, B00000000, B00000000, B00110000, B00110000, B00110000, B00111000, B00111000, B00000000), 
  Sprite(8, 8, B00000000, B00110000, B00110000, B00110000, B00110000, B00110000, B00110000, B00000000), 
  Sprite(8, 8, B00000000, B00111000, B00111000, B00110000, B00110000, B00110000, B00000000, B00000000), 
  Sprite(8, 8, B00000000, B00111100, B00111100, B00110000, B00110000, B00000000, B00000000, B00000000), 
  Sprite(8, 8, B00000000, B00111110, B00111110, B00110000, B00000000, B00000000, B00000000, B00000000), 
  Sprite(8, 8, B00000000, B00111111, B00111111, B00000000, B00000000, B00000000, B00000000, B00000000), 
  Sprite(8, 8, B00000000, B00011111, B00011111, B00000011, B00000000, B00000000, B00000000, B00000000), 
  Sprite(8, 8, B00000000, B00001111, B00001111, B00000011, B00000011, B00000000, B00000000, B00000000), 
  Sprite(8, 8, B00000000, B00000111, B00000111, B00000011, B00000011, B00000011, B00000000, B00000000), 
  Sprite(8, 8, B00000000, B00000011, B00000011, B00000011, B00000011, B00000011, B00000011, B00000000),
  Sprite(8, 8, B00000000, B00000000, B00000011, B00000011, B00000011, B00000011, B00000011, B00000000), 
  Sprite(8, 8, B00000000, B00000000, B00000011, B00000011, B00000011, B00000011, B00000011, B00000000),
  Sprite(8, 8, B00000000, B00000000, B00000000, B00000011, B00000011, B00000011, B00000011, B00000000),
  Sprite(8, 8, B00000000, B00000000, B00000000, B00000000, B00000011, B00000011, B00000011, B00000000),
  Sprite(8, 8, B00000000, B00000000, B00000000, B00000000, B00000000, B00000011, B00000011, B00000000)
};

bool stlaceneZacat, stlacenePlus, stlaceneMinus, stlaceneHotovo;
int pocet = 0;


void setup() {

  Serial.begin(9600);

  pinMode(tlacidloZacat, INPUT_PULLUP);
  pinMode(tlacidloPlus, INPUT_PULLUP);
  pinMode(tlacidloMinus, INPUT_PULLUP);
  pinMode(tlacidloHotovo, INPUT_PULLUP);
  
  led.clear();
  led2.clear();

  for (int i = 0; i < 7; i++) {
    for (int x = 0; x < 4; x++) {

      led2.write(x * 8, 0, startAnimacia[i]);
      led.write(x * 8, 0, startAnimacia[i]);
      
    }
    delay(60);
  }

  led.clear();
  led2.clear();

  for (int i = 0; i < 22; i++) {
    for (int x = 0; x < 4; x++) {

      led2.write(x * 8, 0, loadingAnimacia[i]);
      led.write(x * 8, 0, loadingAnimacia[i]);
      
    }
  }

  led.clear();
  led2.clear();

  led.write(0, 0, cifra4[0]);
  led2.write(0, 0, cifra4[1]);

  led.write(8, 0, cifra1[0]);
  led2.write(8, 0, cifra1[1]);

  led.write(16, 0, cifra2[0]);
  led2.write(16, 0, cifra2[1]);

  led.write(24, 0, cifra3[0]);
  led2.write(24, 0, cifra3[1]);

}
  

void loop() {

  //

}